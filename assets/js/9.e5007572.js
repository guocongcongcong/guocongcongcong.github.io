(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{282:function(s,t,a){"use strict";a.r(t);var e=a(14),n=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"如何在codespace部署一个vuepress"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如何在codespace部署一个vuepress"}},[s._v("#")]),s._v(" 如何在codespace部署一个vuepress")]),s._v(" "),t("ul",[t("li",[s._v("对codespace了解不深，看到了想用一下，没看文档，没做攻略，直接进来就开始用，摸着石头过河，遇到了很多问题。")]),s._v(" "),t("li",[s._v("前端页面类似于vscode,现在目测插件也可以相同的。")])]),s._v(" "),t("h2",{attrs:{id:"感受"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#感受"}},[s._v("#")]),s._v(" 感受")]),s._v(" "),t("ul",[t("li",[s._v("在codespace内写播客，就不再需要固定的电脑了，只有有一个浏览器，能登陆github就可以随时开始。甚至可以实时同步")]),s._v(" "),t("li",[s._v("但是个人感觉，其实他的功能远不止于此，还有待我大力发掘。")]),s._v(" "),t("li",[s._v("vuepress是很好的博客框架，第一次接触就很快能上手，虽然还有很多需要学习，但是整体整体感受很好，而且我习惯了写markdown，这个用起来就很舒服。")]),s._v(" "),t("li",[s._v("这次把他俩结合起来，算是意外收获。")]),s._v(" "),t("li",[s._v("先这样，之后想起来什么再说。")])]),s._v(" "),t("h2",{attrs:{id:"环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#环境"}},[s._v("#")]),s._v(" 环境")]),s._v(" "),t("ul",[t("li",[s._v("codespace类似于一个docker容器或者linux虚拟机。单个空间是一个单独的虚拟机。它的生命周期为从创建到删除。中间关闭，停止，其中的数据都不会被删除。")]),s._v(" "),t("li",[s._v('我使用的是空白的template,该机器内部，直接内置了node(v19.8.1)，npm(9.5.1)，yarn(1.22.19),java(openjdk version "17.0.6" 2023-01-17 LTS),python(Python 3.10.4),nvm(0.39.2),curl。我个人只坚持了这些东西，其他的如果有需要可以自行确认。')])]),s._v(" "),t("h2",{attrs:{id:"安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),t("ul",[t("li",[s._v("在知道了基本的node环境之后，就可以进行安装了。")])]),s._v(" "),t("p",[s._v("整体创建参考："),t("a",{attrs:{href:"https://cchroot.github.io/2020/06/20/vuepress%E5%BF%AB%E9%80%9F%E5%88%B6%E4%BD%9Cvue%E6%96%87%E6%A1%A3%E5%8D%9A%E5%AE%A2/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://cchroot.github.io/2020/06/20/vuepress%E5%BF%AB%E9%80%9F%E5%88%B6%E4%BD%9Cvue%E6%96%87%E6%A1%A3%E5%8D%9A%E5%AE%A2/"),t("OutboundLink")],1)]),s._v(" "),t("ul",[t("li",[s._v("但是全抄可能会遇到一些问题，主要在于权限和配置问题，在这里PO出我的package.json，如果能减少您踩坑，我会很高兴。")])]),s._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"name"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"studyNote"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"version"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.0.0"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"main"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"index.js"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"author"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cc"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"license"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MIT"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"devDependencies"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"vuepress"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^1.9.9"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"docs:dev"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"export NODE_OPTIONS=--openssl-legacy-provider && vuepress dev docs"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"docs:build"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"export NODE_OPTIONS=--openssl-legacy-provider &&  vuepress build docs"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"deploy"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bash deploy.sh"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),t("ul",[t("li",[s._v("主要设置为："),t("code",[s._v("export NODE_OPTIONS=--openssl-legacy-provider &&")])])]),s._v(" "),t("h2",{attrs:{id:"发布到github-pages"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#发布到github-pages"}},[s._v("#")]),s._v(" 发布到github pages")]),s._v(" "),t("p",[s._v("我本人参考的是"),t("a",{attrs:{href:"https://juejin.cn/post/6844903999129436174#heading-6",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://juejin.cn/post/6844903999129436174#heading-6"),t("OutboundLink")],1),s._v("和"),t("a",{attrs:{href:"https://juejin.cn/post/6844904185838698509#heading-13",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://juejin.cn/post/6844904185838698509#heading-13"),t("OutboundLink")],1)]),s._v(" "),t("ul",[t("li",[s._v("但是还是遇到了一些问题\n"),t("ul",[t("li",[s._v("连接到git,需要完整的过程，包括ssh密钥，连接git等操作")]),s._v(" "),t("li",[s._v("注意codespace里的主线名称为：main，可能存在不存在master分支的情况，")])])])]),s._v(" "),t("h2",{attrs:{id:"一键部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一键部署"}},[s._v("#")]),s._v(" 一键部署")]),s._v(" "),t("ul",[t("li",[s._v("如果你好好看了以上的文档，应该不会遇到其他什么大的问题，可以直接在控制台输入以下命令"),t("code",[s._v("yarn deploy")]),s._v("，就可以一键部署到github pages上了。一般地址为：https://<username>.github.io/")])]),s._v(" "),t("h2",{attrs:{id:"附录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#附录"}},[s._v("#")]),s._v(" 附录")]),s._v(" "),t("ul",[t("li",[s._v("deploy.sh")])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 确保脚本抛出遇到的错误")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-e")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 打包生成静态文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v("  docs:build\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入打包好的文件夹")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" docs/.vuepress/dist\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建git的本地仓库，提交修改")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" init\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-A")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-m")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'deploy'")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 覆盖式地将本地仓库发布至github，因为发布不需要保留历史记录")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 格式为：git push -f git@github.com:'用户名'/'仓库名'.git master")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" git@github.com:guocongcongcong/guocongcongcong.github.io.git main\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" -\n")])])]),t("ul",[t("li",[s._v("目录结构")])]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("codespaces-blank\n└─ studyNote\n   ├─ deploy.sh\n   ├─ docs\n   │  ├─ .vuepress\n   │  │  ├─ README.md\n   │  │  ├─ components\n   │  │  ├─ config.js\n   │  │  ├─ config.ts\n   │  │  ├─ dist\n   │  │  │  ├─ 404.html\n   │  │  │  ├─ assets\n   │  │  │  │  ├─ css\n   │  │  │  │  │  └─ 0.styles.e8e4f3a3.css\n   │  │  │  │  ├─ img\n   │  │  │  │  │  └─ search.83621669.svg\n   │  │  │  │  └─ js\n   │  │  │  │     ├─ 10.2c98ec17.js\n   │  │  │  │     ├─ 2.733019b2.js\n   │  │  │  │     ├─ 3.414988de.js\n   │  │  │  │     ├─ 4.d12742be.js\n   │  │  │  │     ├─ 5.216cae74.js\n   │  │  │  │     ├─ 6.2d0a63f8.js\n   │  │  │  │     ├─ 7.9c9172a7.js\n   │  │  │  │     ├─ 8.21baafb4.js\n   │  │  │  │     ├─ 9.1512861e.js\n   │  │  │  │     └─ app.26de7cc5.js\n   │  │  │  ├─ guide\n   │  │  │  │  ├─ index.html\n   │  │  │  │  └─ zh\n   │  │  │  │     └─ notes\n   │  │  │  │        ├─ codespace安装vuepress.html\n   │  │  │  │        └─ loveyou.html\n   │  │  │  └─ index.html\n   │  │  ├─ enhanceApp.js\n   │  │  ├─ pages\n   │  │  ├─ public\n   │  │  └─ styles\n   │  │     └─ palette.styl\n   │  ├─ README.md\n   │  └─ guide\n   │     ├─ README.md\n   │     └─ zh\n   │        └─ notes\n   │           ├─ codespace安装vuepress.md\n   │           └─ loveyou.md\n   ├─ package.json\n   ├─ yarn-error.log\n   └─ yarn.lock\n\n")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);